{"version":3,"sources":["../../../../components/avatar.tsx","../../../../lib/stores/conversations-store.ts","../../../../lib/stores/realtime-store.ts","../../../../components/chat-bubble.tsx","../../../../components/message-input.tsx","../../../../components/typing-indicator.tsx","../../../../components/wallpaper.tsx","../../../../node_modules/lucide-react/src/icons/arrow-right.ts","../../../../node_modules/lucide-react/src/icons/image.ts","../../../../node_modules/lucide-react/src/icons/circle-check.ts"],"sourcesContent":["\"use client\"\n\nimport Image from \"next/image\"\nimport { cn } from \"@/lib/utils\"\n\ninterface AvatarProps {\n  src?: string\n  name?: string\n  size?: \"sm\" | \"md\" | \"lg\" | \"xl\"\n  className?: string\n}\n\nfunction getInitials(name?: string): string {\n  if (!name) return \"?\"\n  \n  const parts = name.trim().split(/\\s+/)\n  if (parts.length === 1) {\n    return parts[0].charAt(0).toUpperCase()\n  }\n  return (parts[0].charAt(0) + parts[parts.length - 1].charAt(0)).toUpperCase()\n}\n\nfunction getSizeClasses(size: \"sm\" | \"md\" | \"lg\" | \"xl\"): string {\n  switch (size) {\n    case \"sm\":\n      return \"w-8 h-8 text-xs\"\n    case \"md\":\n      return \"w-10 h-10 text-sm\"\n    case \"lg\":\n      return \"w-12 h-12 text-base\"\n    case \"xl\":\n      return \"w-16 h-16 text-xl\"\n    default:\n      return \"w-10 h-10 text-sm\"\n  }\n}\n\nexport function Avatar({ src, name, size = \"md\", className }: AvatarProps) {\n  const initials = getInitials(name)\n  const sizeClasses = getSizeClasses(size)\n\n  if (src) {\n    return (\n      <div className={cn(\"relative rounded-full overflow-hidden bg-muted flex items-center justify-center\", sizeClasses, className)}>\n        <Image\n          src={src}\n          alt={name || \"Avatar\"}\n          fill\n          className=\"object-cover\"\n        />\n      </div>\n    )\n  }\n\n  return (\n    <div\n      className={cn(\n        \"rounded-full bg-primary text-primary-foreground flex items-center justify-center font-medium\",\n        sizeClasses,\n        className\n      )}\n    >\n      {initials}\n    </div>\n  )\n}\n\n","import { create } from \"zustand\"\nimport type { Conversation, Message } from \"../types\"\nimport { storage } from \"../storage\"\n\ninterface ConversationsState {\n  conversations: Conversation[]\n  currentConversation: Conversation | null\n  loading: boolean\n  setConversations: (conversations: Conversation[]) => void\n  setCurrentConversation: (conversation: Conversation | null) => void\n  loadConversations: (businessId: string) => Promise<void>\n  loadConversation: (conversationId: string) => Promise<Conversation | null>\n  addMessage: (message: Message) => void\n  updateMessage: (messageId: string, updates: Partial<Message>) => void\n  removeMessage: (messageId: string) => void\n  updateConversation: (conversationId: string, updates: Partial<Conversation>) => void\n  refreshConversations: (businessId: string) => Promise<void>\n}\n\nexport const useConversationsStore = create<ConversationsState>((set, get) => ({\n  conversations: [],\n  currentConversation: null,\n  loading: false,\n  \n  setConversations: (conversations) => set({ conversations }),\n  \n  setCurrentConversation: (conversation) => set({ currentConversation: conversation }),\n  \n  loadConversations: async (businessId: string) => {\n    set({ loading: true })\n    try {\n      const conversations = await storage.getConversationsByBusinessId(businessId)\n      set({ conversations, loading: false })\n    } catch (error) {\n      console.error(\"Error loading conversations:\", error)\n      set({ loading: false })\n    }\n  },\n  \n  loadConversation: async (conversationId: string) => {\n    set({ loading: true })\n    try {\n      const conversation = await storage.getConversationById(conversationId)\n      set({ currentConversation: conversation, loading: false })\n      return conversation\n    } catch (error) {\n      console.error(\"Error loading conversation:\", error)\n      set({ loading: false })\n      return null\n    }\n  },\n  \n  addMessage: (message: Message) => {\n    const { currentConversation, conversations } = get()\n    \n    // Update current conversation\n    if (currentConversation && currentConversation.id === message.conversationId) {\n      // Check if message already exists (to avoid duplicates from real-time events)\n      const existingIndex = currentConversation.messages.findIndex((m) => m.id === message.id)\n      \n      if (existingIndex >= 0) {\n        // Update existing message\n        const updatedMessages = [...currentConversation.messages]\n        updatedMessages[existingIndex] = message\n        set({\n          currentConversation: {\n            ...currentConversation,\n            messages: updatedMessages.sort(\n              (a, b) => new Date(a.createdAt).getTime() - new Date(b.createdAt).getTime()\n            ),\n            lastMessageAt: message.createdAt,\n          },\n        })\n      } else {\n        // Add new message\n        const updatedMessages = [...currentConversation.messages, message].sort(\n          (a, b) => new Date(a.createdAt).getTime() - new Date(b.createdAt).getTime()\n        )\n        set({\n          currentConversation: {\n            ...currentConversation,\n            messages: updatedMessages,\n            lastMessageAt: message.createdAt,\n          },\n        })\n      }\n    }\n    \n    // Update conversations list\n    const conversationIndex = conversations.findIndex((c) => c.id === message.conversationId)\n    if (conversationIndex >= 0) {\n      const updatedConversations = [...conversations]\n      const conv = updatedConversations[conversationIndex]\n      \n      // Check if message already exists\n      const existingMessageIndex = conv.messages.findIndex((m) => m.id === message.id)\n      \n      let updatedMessages: Message[]\n      if (existingMessageIndex >= 0) {\n        // Update existing message\n        updatedMessages = [...conv.messages]\n        updatedMessages[existingMessageIndex] = message\n      } else {\n        // Add new message\n        updatedMessages = [...conv.messages, message]\n      }\n      \n      updatedConversations[conversationIndex] = {\n        ...conv,\n        messages: updatedMessages.sort(\n          (a, b) => new Date(a.createdAt).getTime() - new Date(b.createdAt).getTime()\n        ),\n        lastMessageAt: message.createdAt,\n      }\n      // Move to top\n      updatedConversations.sort(\n        (a, b) => new Date(b.lastMessageAt).getTime() - new Date(a.lastMessageAt).getTime()\n      )\n      set({ conversations: updatedConversations })\n    }\n  },\n  \n  updateMessage: (messageId: string, updates: Partial<Message>) => {\n    const { currentConversation, conversations } = get()\n    \n    // Update current conversation\n    if (currentConversation) {\n      const messageIndex = currentConversation.messages.findIndex((m) => m.id === messageId)\n      if (messageIndex >= 0) {\n        const updatedMessages = [...currentConversation.messages]\n        updatedMessages[messageIndex] = { ...updatedMessages[messageIndex], ...updates }\n        set({\n          currentConversation: {\n            ...currentConversation,\n            messages: updatedMessages,\n          },\n        })\n      }\n    }\n    \n    // Update conversations list\n    const updatedConversations = conversations.map((conv) => {\n      const messageIndex = conv.messages.findIndex((m) => m.id === messageId)\n      if (messageIndex >= 0) {\n        const updatedMessages = [...conv.messages]\n        updatedMessages[messageIndex] = { ...updatedMessages[messageIndex], ...updates }\n        return { ...conv, messages: updatedMessages }\n      }\n      return conv\n    })\n    set({ conversations: updatedConversations })\n  },\n  \n  removeMessage: (messageId: string) => {\n    const { currentConversation, conversations } = get()\n    \n    // Update current conversation\n    if (currentConversation) {\n      set({\n        currentConversation: {\n          ...currentConversation,\n          messages: currentConversation.messages.filter((m) => m.id !== messageId),\n        },\n      })\n    }\n    \n    // Update conversations list\n    const updatedConversations = conversations.map((conv) => ({\n      ...conv,\n      messages: conv.messages.filter((m) => m.id !== messageId),\n    }))\n    set({ conversations: updatedConversations })\n  },\n  \n  updateConversation: (conversationId: string, updates: Partial<Conversation>) => {\n    const { currentConversation, conversations } = get()\n    \n    // Update current conversation\n    if (currentConversation && currentConversation.id === conversationId) {\n      set({\n        currentConversation: {\n          ...currentConversation,\n          ...updates,\n        },\n      })\n    }\n    \n    // Update conversations list\n    const updatedConversations = conversations.map((conv) =>\n      conv.id === conversationId ? { ...conv, ...updates } : conv\n    )\n    set({ conversations: updatedConversations })\n  },\n  \n  refreshConversations: async (businessId: string) => {\n    try {\n      const conversations = await storage.getConversationsByBusinessId(businessId)\n      set({ conversations })\n    } catch (error) {\n      console.error(\"Error refreshing conversations:\", error)\n    }\n  },\n}))\n\n","import { create } from \"zustand\"\nimport { createClient } from \"../supabase/client\"\nimport { db } from \"../supabase/db\"\nimport type { Message } from \"../types\"\nimport { useConversationsStore } from \"./conversations-store\"\n\ntype TypingCallback = (senderType: \"business\" | \"customer\") => void\n\ntype RealtimeChannel = Parameters<ReturnType<typeof createClient>[\"removeChannel\"]>[0]\n\ninterface RealtimeState {\n  connectionStatus: \"connected\" | \"disconnected\" | \"connecting\"\n  channels: Map<string, RealtimeChannel>\n  typingCallbacks: Map<string, TypingCallback>\n  setupConversationChannel: (\n    conversationId: string,\n    senderType: \"business\" | \"customer\",\n    senderId: string,\n    onTyping?: TypingCallback\n  ) => () => void\n  setupBusinessChannel: (businessId: string) => () => void\n  broadcastTyping: (conversationId: string, senderType: \"business\" | \"customer\") => void\n  cleanup: () => void\n}\n\nconst maxReconnectAttempts = 5\n\nexport const useRealtimeStore = create<RealtimeState>((set, get) => {\n  const supabase = createClient()\n  const channels = new Map<string, RealtimeChannel>()\n  const typingCallbacks = new Map<string, TypingCallback>()\n  const reconnectAttempts = new Map<string, number>()\n  const heartbeatIntervals = new Map<string, NodeJS.Timeout>()\n  const reconnectTimers = new Map<string, NodeJS.Timeout>()\n  const typingBroadcastThrottles = new Map<string, NodeJS.Timeout>()\n\n  const cleanupChannel = (channelName: string) => {\n    const channel = channels.get(channelName)\n    if (channel) {\n      supabase.removeChannel(channel)\n      channels.delete(channelName)\n    }\n    \n    const interval = heartbeatIntervals.get(channelName)\n    if (interval) {\n      clearInterval(interval)\n      heartbeatIntervals.delete(channelName)\n    }\n    \n    const timer = reconnectTimers.get(channelName)\n    if (timer) {\n      clearTimeout(timer)\n      reconnectTimers.delete(channelName)\n    }\n    \n    reconnectAttempts.delete(channelName)\n  }\n\n  return {\n    connectionStatus: \"connecting\",\n    channels,\n    typingCallbacks,\n    \n    setupConversationChannel: (conversationId: string, senderType: \"business\" | \"customer\", senderId: string, onTyping?: TypingCallback) => {\n      const channelName = `conversation:${conversationId}`\n      \n      // Clean up existing channel if any\n      cleanupChannel(channelName)\n      \n      const channel = supabase\n        .channel(channelName, {\n          config: {\n            broadcast: { self: true },\n            presence: { key: senderId },\n          },\n        })\n        .on(\"broadcast\", { event: \"typing\" }, (payload) => {\n          // Only trigger callback if it's from the other user\n          const otherSenderType = senderType === \"business\" ? \"customer\" : \"business\"\n          if (payload.payload.senderType === otherSenderType && onTyping) {\n            onTyping(payload.payload.senderType)\n          }\n        })\n        .on(\n          \"postgres_changes\",\n          {\n            event: \"*\",\n            schema: \"public\",\n            table: \"messages\",\n            filter: `conversation_id=eq.${conversationId}`,\n          },\n          async (payload) => {\n            if (payload.eventType === \"INSERT\" || payload.eventType === \"UPDATE\") {\n              try {\n                const dbMessage = payload.new as any\n                const newMessage: Message = {\n                  id: dbMessage.id,\n                  conversationId: dbMessage.conversation_id,\n                  senderType: dbMessage.sender_type,\n                  senderId: dbMessage.sender_id,\n                  text: dbMessage.content || undefined,\n                  imageUrl: dbMessage.image_url || undefined,\n                  status: (dbMessage.status || \"sent\") as \"sent\" | \"delivered\" | \"read\",\n                  createdAt: dbMessage.created_at,\n                }\n\n                // Mark as delivered if it's a new message from the other user\n                const otherSenderType = senderType === \"business\" ? \"customer\" : \"business\"\n                if (payload.eventType === \"INSERT\" && newMessage.senderType === otherSenderType) {\n                  db.updateMessageStatus(newMessage.id, \"delivered\")\n                }\n\n                // Update store - addMessage now handles duplicates by updating existing messages\n                const { addMessage, updateMessage } = useConversationsStore.getState()\n                if (payload.eventType === \"INSERT\") {\n                  // addMessage will check for duplicates and update if message already exists\n                  addMessage(newMessage)\n                } else {\n                  updateMessage(newMessage.id, newMessage)\n                }\n              } catch (error) {\n                console.error(\"Error processing real-time message:\", error)\n              }\n            } else if (payload.eventType === \"DELETE\") {\n              const deletedId = payload.old?.id\n              if (deletedId) {\n                const { removeMessage } = useConversationsStore.getState()\n                removeMessage(deletedId)\n              }\n            }\n          }\n        )\n        .on(\n          \"postgres_changes\",\n          {\n            event: \"UPDATE\",\n            schema: \"public\",\n            table: \"conversations\",\n            filter: `id=eq.${conversationId}`,\n          },\n          async (payload) => {\n            const { loadConversation } = useConversationsStore.getState()\n            await loadConversation(conversationId)\n          }\n        )\n        .subscribe((status, err) => {\n          if (status === \"SUBSCRIBED\") {\n            set({ connectionStatus: \"connected\" })\n            reconnectAttempts.set(channelName, 0)\n            channels.set(channelName, channel)\n            if (onTyping) {\n              typingCallbacks.set(channelName, onTyping)\n            }\n\n            // Set up heartbeat\n            const interval = setInterval(() => {\n              channel.send({\n                type: \"presence\",\n                event: \"heartbeat\",\n                payload: { user_id: senderId, timestamp: Date.now() },\n              })\n            }, 30000)\n            heartbeatIntervals.set(channelName, interval)\n          } else if (status === \"CHANNEL_ERROR\" || status === \"TIMED_OUT\" || status === \"CLOSED\") {\n            set({ connectionStatus: \"disconnected\" })\n            \n            const interval = heartbeatIntervals.get(channelName)\n            if (interval) {\n              clearInterval(interval)\n              heartbeatIntervals.delete(channelName)\n            }\n\n            // Attempt reconnection\n            const attempts = reconnectAttempts.get(channelName) || 0\n            if (attempts < maxReconnectAttempts) {\n              reconnectAttempts.set(channelName, attempts + 1)\n              const delay = Math.min(1000 * Math.pow(2, attempts + 1), 30000)\n              \n              const timer = setTimeout(() => {\n                get().setupConversationChannel(conversationId, senderType, senderId)\n              }, delay)\n              reconnectTimers.set(channelName, timer)\n            }\n          }\n        })\n\n      return () => {\n        typingCallbacks.delete(channelName)\n        cleanupChannel(channelName)\n      }\n    },\n    \n    broadcastTyping: (conversationId: string, senderType: \"business\" | \"customer\") => {\n      const channelName = `conversation:${conversationId}`\n      const channel = channels.get(channelName)\n      \n      if (!channel) return\n      \n      // Throttle broadcasts to once per second\n      const throttleKey = `${channelName}:${senderType}`\n      if (typingBroadcastThrottles.has(throttleKey)) {\n        return\n      }\n      \n      channel.send({\n        type: \"broadcast\",\n        event: \"typing\",\n        payload: {\n          senderType,\n          conversationId,\n        },\n      })\n      \n      const timer = setTimeout(() => {\n        typingBroadcastThrottles.delete(throttleKey)\n      }, 1000)\n      typingBroadcastThrottles.set(throttleKey, timer)\n    },\n    \n    setupBusinessChannel: (businessId: string) => {\n      const channelName = `business:${businessId}`\n      \n      // Clean up existing channel if any\n      cleanupChannel(channelName)\n      \n      const channel = supabase\n        .channel(channelName, {\n          config: {\n            broadcast: { self: true },\n          },\n        })\n        .on(\n          \"postgres_changes\",\n          {\n            event: \"INSERT\",\n            schema: \"public\",\n            table: \"messages\",\n          },\n          async (payload) => {\n            // Refresh conversations list when new messages arrive\n            const { refreshConversations } = useConversationsStore.getState()\n            await refreshConversations(businessId)\n          }\n        )\n        .on(\n          \"postgres_changes\",\n          {\n            event: \"UPDATE\",\n            schema: \"public\",\n            table: \"conversations\",\n          },\n          async (payload) => {\n            // Refresh conversations list when conversations are updated\n            const { refreshConversations } = useConversationsStore.getState()\n            await refreshConversations(businessId)\n          }\n        )\n        .subscribe((status) => {\n          console.log(\"Business channel subscription status:\", status)\n        })\n\n      channels.set(channelName, channel)\n      \n      return () => {\n        cleanupChannel(channelName)\n      }\n    },\n    \n    cleanup: () => {\n      channels.forEach((_, channelName) => {\n        typingCallbacks.delete(channelName)\n        cleanupChannel(channelName)\n      })\n      typingBroadcastThrottles.forEach((timer) => clearTimeout(timer))\n      typingBroadcastThrottles.clear()\n      set({ connectionStatus: \"disconnected\" })\n    },\n  }\n})\n\n","\"use client\"\n\nimport type { Message } from \"@/lib/types\"\nimport { motion } from \"framer-motion\"\nimport Image from \"next/image\"\nimport { CheckCircle2, CircleCheck,  } from \"lucide-react\"\n\ninterface ChatBubbleProps {\n  message: Message\n  isOwn: boolean\n  index: number\n}\n\nexport function ChatBubble({ message, isOwn, index }: ChatBubbleProps) {\n  const getStatusIcon = () => {\n    if (!isOwn) return null\n\n    switch (message.status) {\n      case \"sent\":\n        return <CircleCheck className=\"w-3 h-3 opacity-70\" />\n      case \"delivered\":\n        return <CheckCircle2 className=\"w-3.5 h-3.5 opacity-70\" />\n      case \"read\":\n        return <CheckCircle2 className=\"w-3.5 h-3.5 text-primary\" />\n      default:\n        return <CircleCheck className=\"w-3 h-3 opacity-70\" />\n    }\n  }\n\n  return (\n    <motion.div\n      initial={{ opacity: 0, y: 10 }}\n      animate={{ opacity: 1, y: 0 }}\n      transition={{ delay: index * 0.05 }}\n      className={`flex ${isOwn ? \"justify-end\" : \"justify-start\"} mb-3`}\n    >\n      <div\n        className={`max-w-[80%] md:max-w-md lg:max-w-lg px-3 md:px-4 py-2 rounded-lg ${\n          isOwn\n            ? \"bg-[var(--chat-sent)] text-[var(--chat-sent-text)] rounded-br-none ml-auto dark:bg-[var(--chat-sent)] dark:text-[var(--chat-sent-text)]\"\n            : \"bg-[var(--chat-received)] text-[var(--chat-received-text)] rounded-bl-none dark:bg-[var(--chat-received)] dark:text-[var(--chat-received-text)]\"\n        }`}\n      >\n        {message.text && <p className=\"text-sm md:text-base break-words\">{message.text}</p>}\n        {message.imageUrl && (\n          <div className=\"relative w-48 h-48 rounded-lg overflow-hidden mb-2\">\n            <Image src={message.imageUrl || \"/placeholder.svg\"} alt=\"Chat image\" fill className=\"object-cover\" />\n          </div>\n        )}\n        <div className=\"flex items-center gap-1.5 mt-1 justify-end\">\n          <p className={`text-xs opacity-70`}>\n            {new Date(message.createdAt).toLocaleTimeString([], {\n              hour: \"2-digit\",\n              minute: \"2-digit\",\n            })}\n          </p>\n          {getStatusIcon()}\n        </div>\n      </div>\n    </motion.div>\n  )\n}\n","\"use client\"\n\nimport type React from \"react\"\n\nimport { useState, useRef, useEffect } from \"react\"\nimport { Button } from \"@/components/ui/button\"\nimport { ImageIcon, ArrowRight } from \"lucide-react\"\nimport { motion } from \"framer-motion\"\n\ninterface MessageInputProps {\n  onSendMessage: (text: string) => void\n  onSendImage: (imageUrl: string) => void\n  onTyping?: () => void\n  disabled?: boolean\n}\n\nexport function MessageInput({ onSendMessage, onSendImage, onTyping, disabled }: MessageInputProps) {\n  const [message, setMessage] = useState(\"\")\n  const fileInputRef = useRef<HTMLInputElement>(null)\n  const typingTimeoutRef = useRef<NodeJS.Timeout | null>(null)\n\n  // Cleanup on unmount\n  useEffect(() => {\n    return () => {\n      if (typingTimeoutRef.current) {\n        clearTimeout(typingTimeoutRef.current)\n      }\n    }\n  }, [])\n\n  const handleSend = () => {\n    if (message.trim()) {\n      onSendMessage(message)\n      setMessage(\"\")\n      if (typingTimeoutRef.current) {\n        clearTimeout(typingTimeoutRef.current)\n      }\n    }\n  }\n\n  const handleChange = (e: React.ChangeEvent<HTMLTextAreaElement>) => {\n    setMessage(e.target.value)\n    if (onTyping && e.target.value.trim()) {\n      onTyping()\n    }\n  }\n\n  const handleKeyDown = (e: React.KeyboardEvent<HTMLTextAreaElement>) => {\n    if (e.key === \"Enter\" && !e.shiftKey) {\n      e.preventDefault()\n      handleSend()\n    }\n  }\n\n  const handleImageSelect = (e: React.ChangeEvent<HTMLInputElement>) => {\n    const file = e.target.files?.[0]\n    if (file) {\n      const reader = new FileReader()\n      reader.onload = (event) => {\n        const imageUrl = event.target?.result as string\n        onSendImage(imageUrl)\n      }\n      reader.readAsDataURL(file)\n    }\n  }\n\n  return (\n    <motion.div\n      initial={{ opacity: 0, y: 20 }}\n      animate={{ opacity: 1, y: 0 }}\n      className=\"p-2 md:p-4 flex gap-2\"\n    >\n      <button\n        onClick={() => fileInputRef.current?.click()}\n        disabled={disabled}\n        className=\"p-2 hover:bg-secondary rounded-lg transition-colors disabled:opacity-50 text-muted-foreground\"\n        aria-label=\"Upload image\"\n      >\n        <ImageIcon className=\"w-5 h-5\" />\n      </button>\n      <input ref={fileInputRef} type=\"file\" accept=\"image/*\" onChange={handleImageSelect} className=\"hidden\" />\n      <textarea\n        value={message}\n        onChange={handleChange}\n        onKeyDown={handleKeyDown}\n        placeholder=\"Type a message...\"\n        disabled={disabled}\n        className=\"flex-1 bg-input border border-border rounded-lg px-3 md:px-4 py-2 md:py-2.5 resize-none focus:outline-none focus:ring-2 focus:ring-primary disabled:opacity-50 text-foreground placeholder:text-muted-foreground text-sm md:text-base\"\n        rows={1}\n      />\n      <Button \n        onClick={handleSend} \n        disabled={!message.trim() || disabled} \n        size=\"sm\" \n        className=\"self-end bg-primary hover:opacity-90 text-primary-foreground disabled:opacity-50 disabled:cursor-not-allowed rounded-full aspect-square p-2.5\"\n      >\n        <ArrowRight className=\"w-4 h-4\" />\n      </Button>\n    </motion.div>\n  )\n}\n","\"use client\"\n\nimport { motion } from \"framer-motion\"\n\ninterface TypingIndicatorProps {\n  isOwn?: boolean\n}\n\nexport function TypingIndicator({ isOwn = false }: TypingIndicatorProps) {\n  return (\n    <motion.div\n      initial={{ opacity: 0, y: 10 }}\n      animate={{ opacity: 1, y: 0 }}\n      exit={{ opacity: 0, y: -10 }}\n      className={`flex ${isOwn ? \"justify-end\" : \"justify-start\"} mb-3`}\n    >\n      <div\n        className={`px-4 py-3 rounded-2xl ${\n          isOwn\n            ? \"bg-primary text-primary-foreground rounded-br-none\"\n            : \"bg-secondary text-secondary-foreground rounded-bl-none\"\n        }`}\n      >\n        <div className=\"flex gap-1.5\">\n          <motion.div\n            className=\"w-2 h-2 rounded-full bg-current opacity-60\"\n            animate={{\n              scale: [1, 1.2, 1],\n              opacity: [0.6, 1, 0.6],\n            }}\n            transition={{\n              duration: 0.6,\n              repeat: Infinity,\n              delay: 0,\n            }}\n          />\n          <motion.div\n            className=\"w-2 h-2 rounded-full bg-current opacity-60\"\n            animate={{\n              scale: [1, 1.2, 1],\n              opacity: [0.6, 1, 0.6],\n            }}\n            transition={{\n              duration: 0.6,\n              repeat: Infinity,\n              delay: 0.2,\n            }}\n          />\n          <motion.div\n            className=\"w-2 h-2 rounded-full bg-current opacity-60\"\n            animate={{\n              scale: [1, 1.2, 1],\n              opacity: [0.6, 1, 0.6],\n            }}\n            transition={{\n              duration: 0.6,\n              repeat: Infinity,\n              delay: 0.4,\n            }}\n          />\n        </div>\n      </div>\n    </motion.div>\n  )\n}\n\n","\"use client\"\n\nimport Image from \"next/image\"\n\ninterface WallpaperProps {\n  businessLogo?: string\n  className?: string\n}\n\nexport function Wallpaper({ businessLogo, className = \"\" }: WallpaperProps) {\n  return (\n    <div className={`fixed inset-0 z-0 pointer-events-none ${className}`}>\n      <div className=\"absolute inset-0 bg-black/40\" /> \n      <Image\n        src=\"/chat-bg.jpg\"\n        alt=\"Wallpaper\"\n        fill\n        className=\"object-cover opacity-10\"\n        priority={false}\n      />\n    </div>\n  )\n}\n\n","import createLucideIcon from '../createLucideIcon';\n\n/**\n * @component @name ArrowRight\n * @description Lucide SVG icon component, renders SVG Element with children.\n *\n * @preview ![img](data:image/svg+xml;base64,PHN2ZyAgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIgogIHdpZHRoPSIyNCIKICBoZWlnaHQ9IjI0IgogIHZpZXdCb3g9IjAgMCAyNCAyNCIKICBmaWxsPSJub25lIgogIHN0cm9rZT0iIzAwMCIgc3R5bGU9ImJhY2tncm91bmQtY29sb3I6ICNmZmY7IGJvcmRlci1yYWRpdXM6IDJweCIKICBzdHJva2Utd2lkdGg9IjIiCiAgc3Ryb2tlLWxpbmVjYXA9InJvdW5kIgogIHN0cm9rZS1saW5lam9pbj0icm91bmQiCj4KICA8cGF0aCBkPSJNNSAxMmgxNCIgLz4KICA8cGF0aCBkPSJtMTIgNSA3IDctNyA3IiAvPgo8L3N2Zz4K) - https://lucide.dev/icons/arrow-right\n * @see https://lucide.dev/guide/packages/lucide-react - Documentation\n *\n * @param {Object} props - Lucide icons props and any valid SVG attribute\n * @returns {JSX.Element} JSX Element\n *\n */\nconst ArrowRight = createLucideIcon('ArrowRight', [\n  ['path', { d: 'M5 12h14', key: '1ays0h' }],\n  ['path', { d: 'm12 5 7 7-7 7', key: 'xquz4c' }],\n]);\n\nexport default ArrowRight;\n","import createLucideIcon from '../createLucideIcon';\n\n/**\n * @component @name Image\n * @description Lucide SVG icon component, renders SVG Element with children.\n *\n * @preview ![img](data:image/svg+xml;base64,PHN2ZyAgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIgogIHdpZHRoPSIyNCIKICBoZWlnaHQ9IjI0IgogIHZpZXdCb3g9IjAgMCAyNCAyNCIKICBmaWxsPSJub25lIgogIHN0cm9rZT0iIzAwMCIgc3R5bGU9ImJhY2tncm91bmQtY29sb3I6ICNmZmY7IGJvcmRlci1yYWRpdXM6IDJweCIKICBzdHJva2Utd2lkdGg9IjIiCiAgc3Ryb2tlLWxpbmVjYXA9InJvdW5kIgogIHN0cm9rZS1saW5lam9pbj0icm91bmQiCj4KICA8cmVjdCB3aWR0aD0iMTgiIGhlaWdodD0iMTgiIHg9IjMiIHk9IjMiIHJ4PSIyIiByeT0iMiIgLz4KICA8Y2lyY2xlIGN4PSI5IiBjeT0iOSIgcj0iMiIgLz4KICA8cGF0aCBkPSJtMjEgMTUtMy4wODYtMy4wODZhMiAyIDAgMCAwLTIuODI4IDBMNiAyMSIgLz4KPC9zdmc+Cg==) - https://lucide.dev/icons/image\n * @see https://lucide.dev/guide/packages/lucide-react - Documentation\n *\n * @param {Object} props - Lucide icons props and any valid SVG attribute\n * @returns {JSX.Element} JSX Element\n *\n */\nconst Image = createLucideIcon('Image', [\n  ['rect', { width: '18', height: '18', x: '3', y: '3', rx: '2', ry: '2', key: '1m3agn' }],\n  ['circle', { cx: '9', cy: '9', r: '2', key: 'af1f0g' }],\n  ['path', { d: 'm21 15-3.086-3.086a2 2 0 0 0-2.828 0L6 21', key: '1xmnt7' }],\n]);\n\nexport default Image;\n","import createLucideIcon from '../createLucideIcon';\n\n/**\n * @component @name CircleCheck\n * @description Lucide SVG icon component, renders SVG Element with children.\n *\n * @preview ![img](data:image/svg+xml;base64,PHN2ZyAgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIgogIHdpZHRoPSIyNCIKICBoZWlnaHQ9IjI0IgogIHZpZXdCb3g9IjAgMCAyNCAyNCIKICBmaWxsPSJub25lIgogIHN0cm9rZT0iIzAwMCIgc3R5bGU9ImJhY2tncm91bmQtY29sb3I6ICNmZmY7IGJvcmRlci1yYWRpdXM6IDJweCIKICBzdHJva2Utd2lkdGg9IjIiCiAgc3Ryb2tlLWxpbmVjYXA9InJvdW5kIgogIHN0cm9rZS1saW5lam9pbj0icm91bmQiCj4KICA8Y2lyY2xlIGN4PSIxMiIgY3k9IjEyIiByPSIxMCIgLz4KICA8cGF0aCBkPSJtOSAxMiAyIDIgNC00IiAvPgo8L3N2Zz4K) - https://lucide.dev/icons/circle-check\n * @see https://lucide.dev/guide/packages/lucide-react - Documentation\n *\n * @param {Object} props - Lucide icons props and any valid SVG attribute\n * @returns {JSX.Element} JSX Element\n *\n */\nconst CircleCheck = createLucideIcon('CircleCheck', [\n  ['circle', { cx: '12', cy: '12', r: '10', key: '1mglay' }],\n  ['path', { d: 'm9 12 2 2 4-4', key: 'dzmm74' }],\n]);\n\nexport default CircleCheck;\n"],"names":[],"mappings":"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","ignoreList":[7,8,9]}